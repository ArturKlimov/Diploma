@model IEnumerable<Diploma.Models.Notification>

@{ 
    Layout = "";
}
<div id="results">

    <table>
        <thead>
            <tr>
                <th>Заголовок</th>
                <th>Дата</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null)
            {
                foreach (var n in Model)
                {
                    <tr>
                        <td>@n.Title</td>
                        <td>@n.Date.ToShortDateString()</td>
                        <td> <a href="/Admin/EditNotification?id=@n.ID">Редактировать</a> </td>
                        <td>
                            @Html.ActionLink("Удалить", "DeleteNotification", "Admin", new { id = n.ID },
                                new { onclick = "return confirm('Вы уверены, что хотите удалить это объявление?');" })
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>

</div>
        @Scripts.Render("~/bundles/jquery")
        <script type="text/javascript">
            $(document).on('keypress', (function (e) {
                if (e.which == 13) {
                    e.preventDefault();
                    var search = $('#search').val();
                    search = encodeURIComponent(search);
                    $('#results').load("/Admin/GetAllNotifications?search=" + search);
                }
            }));
        </script>